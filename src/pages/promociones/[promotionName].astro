---
import Layout from "@/layouts/Layout.astro";
import { PROMOTIONS } from "@/constants/promotions";
import List from "@/UI/List.astro";

export async function getStaticPaths() {
  return PROMOTIONS.map(
    ({ 
      promotionName, 
      title, 
      description, 
      content,
      href,
      requeriments, 
      img 
    }) => {
      return {
        params: { promotionName },
        props: { 
          title, 
          description, 
          content,
          href,
          requeriments,
          img 
        },
      };
    }
  );
}

const { 
  title, 
  description, 
  content,
  href,
  requeriments,
  img 
} = Astro.props;
---

<Layout 
  title={title} 
  description={description}
  className="bg-orange"
>
  <div 
    class="container max-w-3xl m-auto mt-36 p-4 flex flex-col justify-center gap-5 mb-20"
    transition:name=`media-image-${href}`
  >
    <div class="flex flex-col gap-4 w-full m-auto">
      <h1 class="mb-2 py-2 text-4xl font-bold text-center text-blue border-b-2 border-border">
        {title.toUpperCase()}
      </h1>
      <img
        class=" w-60 h-60 m-auto aspect-video rounded-full transition-all duration-300 ease-in-out hover:rotate-12"
        src={img}
        alt={title}
      />
      <div class="flex flex-col gap-3 text-white text-xl font-semibold" set:html={content} />
      <div>
        <h2 class="text-2xl font-bold mb-2">
          Requisitos:
        </h2>
        <List listIngredients={requeriments} />
      </div>
    </div>
  </div>
</Layout>
